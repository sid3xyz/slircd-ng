# slircd-ng Configuration

[server]
# Server hostname
name = "irc.straylight.net"
# Network name
network = "Straylight"
# Server ID (TS6 format: 3 characters)
sid = "001"
# Server description
description = "Straylight IRC Daemon - Next Generation"
# Prometheus metrics HTTP port
metrics_port = 9090

[listen]
# Address to bind to
address = "0.0.0.0:6667"

# Optional: TLS/SSL listener
# [tls]
# address = "0.0.0.0:6697"
# cert_path = "server.crt"
# key_path = "server.key"

# Optional: WebSocket listener for web-based clients
# [websocket]
# address = "0.0.0.0:8080"
# allow_origins = ["https://example.com"]

[database]
# Path to SQLite database file
path = "slircd.db"

[limits]
# Messages per second (default: 2.5 = 5 messages per 2 seconds)
rate = 2.5
# Maximum burst of messages allowed (default: 5.0)
burst = 5.0

# Security configuration for anti-abuse protection
[security]
# HMAC secret for host cloaking - CHANGE IN PRODUCTION!
cloak_secret = "slircd-default-secret-CHANGE-ME-IN-PRODUCTION"
# Suffix for cloaked IP addresses
cloak_suffix = "ip"
# Enable spam detection for message content
spam_detection_enabled = true

# Rate limiting for flood protection
[security.rate_limits]
# Maximum messages per second per client (default: 2)
message_rate_per_second = 2
# Maximum connection burst per IP in 10 seconds (default: 3)
connection_burst_per_ip = 3
# Maximum channel join burst per client in 10 seconds (default: 5)
join_burst_per_client = 5
